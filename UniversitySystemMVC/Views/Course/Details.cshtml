@model UniversitySystemMVC.ViewModels.CoursesVM.CoursesDetailsVM

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="pull-left">@Model.Course.Code - @Model.Course.Name - Details</h2>

<h3 class="pull-right">@Model.Students.Count(s => s.IsActive)/@Model.Students.Count students</h3>

<table class="table">
    <tr>
        <th>Faculty Number</th>
        <th>Student</th>
        <th>Username</th>
        <th>Email</th>
    </tr>

@foreach (var s in Model.Students)
{
    <tr @if (!s.IsActive) { @Html.Raw("style=color:red")} >
        <td>@s.FacultyNumber</td>
        <td>@Html.ActionLink(s.FirstName + " " + s.LastName, "Details", "Student", new { id = s.Id }, new { target = "_blank"})</td>
        <td>@s.Username</td>
        <td>@s.Email</td>
    </tr>
}

</table>

@Html.ActionLink("Back to courses", "ManageCourses", "Admin")